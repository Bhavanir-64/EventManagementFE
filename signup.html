<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Management</title>
    <link rel="stylesheet" href="../src/style.css" />
  </head>
  <body class="signup-page">
    <nav class="navbar">
      <div class="nav-left">
        <a href="index.html">Home</a>
        <a href="#">About Us</a>
        <a href="#">Services</a>
        <a href="#">Contact Us</a>
      </div>
      <div class="nav-right">
        <a href="signin.html">Sign In</a>
        <a href="signup.html">Sign Up</a>
      </div>
    </nav>

    <div>
      <h1>Signup</h1>
      <div>
        <table>
          <tr>
            <td>
              <label>Name</label>
            </td>
            <td>
              <input
                type="text"
                name="name"
                placeholder="Enter your name"
                required
              />
            </td>
          </tr>
          <tr>
            <td>
              <label>Emailid</label>
            </td>
            <td>
              <input
                type="text"
                name="Emailid"
                placeholder="Enter your Emailid"
                required
              />
            </td>
          </tr>
          <tr>
            <td>
              <label>Mobile number</label>
            </td>
            <td>
              <input
                type="text"
                name="Mobile number"
                placeholder="Enter mobile number"
                required
              />
            </td>
          </tr>
          <tr>
            <td>
              <label>Password</label>
            </td>
            <td>
              <input
                type="text"
                name="Password"
                placeholder="Enter password"
                required
              />
            </td>
          </tr>
        </table>
      </div>
      <button id="signupBtn" type="button">Submit</button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        localStorage.removeItem("loggedInUser");
        document
          .getElementById("signupBtn")
          .addEventListener("click", function () {
            const nameInput = document.querySelector("input[name='name']");
            const emailInput = document.querySelector("input[name='Emailid']");
            const mobileInput = document.querySelector(
              "input[name='Mobile number']"
            );
            const passwordInput = document.querySelector(
              "input[name='Password']"
            );

            const name = nameInput.value.trim();
            const email = emailInput.value.trim();
            const mobile = mobileInput.value.trim();
            const password = passwordInput.value.trim();
            if (!name || !email || !mobile || !password) {
              alert("Please fill in all the fields.");
            } else if (localStorage.getItem("user_" + email)) {
              alert("This email is already registered. Please use another.");
            } else {
              const userData = {
                name,
                email,
                mobile,
                password,
              };
              localStorage.setItem("user_" + email, JSON.stringify(userData));
              alert("Signup successful! Your data has been saved locally.");
              window.location.href = "signin.html";
            }
            nameInput.value = "";
            emailInput.value = "";
            mobileInput.value = "";
            passwordInput.value = "";
          });
      });
    </script>
  </body>
</html>
